(window.webpackJsonp=window.webpackJsonp||[]).push([["LSD.bighome"],{"08f7":function(t,e,a){"use strict";a("da88")},1735:function(t,e,a){"use strict";a("5fbf")},"1a9f":function(t,e,a){},"242a":function(t,e,a){"use strict";a("65b3")},"2eba":function(t,e,a){},4328:function(t,e,a){"use strict";a("e265")},"5fbf":function(t,e,a){},6208:function(t,e,a){"use strict";a("ba89")},6511:function(t,e,a){"use strict";a.r(e);const s={width:"1",height:"1"},i=parseFloat((1920/1080).toFixed(5));var o={data:()=>({drawTiming:null}),computed:{isScale(){return this.$store.state.setting.isScale}},mounted(){this.isScale&&(this.calcRate(),window.addEventListener("resize",this.resize))},beforeDestroy(){window.removeEventListener("resize",this.resize)},methods:{calcRate(){const t=this.$refs.appRef;if(!t)return;const e=parseFloat((window.innerWidth/window.innerHeight).toFixed(5));t&&(e>i?(s.width=(window.innerHeight*i/1920).toFixed(5),s.height=(window.innerHeight/1080).toFixed(5),t.style.transform=`scale(${s.width}, ${s.height}) translate(-50%, -50%)`):(s.height=(window.innerWidth/i/1080).toFixed(5),s.width=(window.innerWidth/1920).toFixed(5),t.style.transform=`scale(${s.width}, ${s.height}) translate(-50%, -50%)`))},resize(){this.isScale&&(clearTimeout(this.drawTiming),this.drawTiming=setTimeout(()=>{this.calcRate()},200))}}};function n(t,e){if(t){const a=new Date(t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(const t in s)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[t]:("00"+s[t]).substr((""+s[t]).length)));return e}return""}var l={components:{},data:()=>({settingShow:!1,sbtxradio:!0,ssyjradio:!0,isScaleradio:!0}),computed:{},methods:{init(){this.settingShow=!0},radiochange(t,e){this.$store.commit("setting/updateSwiper",{val:t,type:e}),"isScale"===e&&this.$router.go(0)}},created(){this.$store.commit("setting/initSwipers"),this.sbtxradio=this.$store.state.setting.sbtxSwiper,this.ssyjradio=this.$store.state.setting.ssyjSwiper,this.isScaleradio=this.$store.state.setting.isScale},mounted(){document.body.appendChild(this.$el)},beforeDestroy(){},destroyed(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},r=a("2877"),c={mixins:[o],components:{Setting:Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"yh-setting-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.settingShow,expression:"settingShow"}],staticClass:"setting",class:{settingShow:t.settingShow}},[a("div",{staticClass:"setting_dislog",on:{click:function(e){t.settingShow=!1}}}),a("div",{staticClass:"setting_inner"},[a("div",{staticClass:"setting_header"},[t._v(" 设置 ")]),a("div",{staticClass:"setting_body"},[a("div",{staticClass:"left_shu"},[t._v(" 全局设置")]),a("div",{staticClass:"setting_item"},[a("span",{staticClass:"setting_label"},[t._v(" 是否进行自动适配"),a("span",{staticClass:"setting_label_tip"},[t._v("(默认分辨率1920*1080)")]),t._v(": ")]),a("div",{staticClass:"setting_content"},[a("el-radio-group",{on:{change:function(e){return t.radiochange(e,"isScale")}},model:{value:t.isScaleradio,callback:function(e){t.isScaleradio=e},expression:"isScaleradio"}},[a("el-radio",{attrs:{label:!0}},[t._v("是")]),a("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),a("div",{staticClass:"left_shu"},[t._v(" 实时监测")]),a("div",{staticClass:"setting_item"},[a("span",{staticClass:"setting_label"},[t._v(" 设备提醒自动轮询: "),a("span",{staticClass:"setting_label_tip"})]),a("div",{staticClass:"setting_content"},[a("el-radio-group",{on:{change:function(e){return t.radiochange(e,"sbtxSwiper")}},model:{value:t.sbtxradio,callback:function(e){t.sbtxradio=e},expression:"sbtxradio"}},[a("el-radio",{attrs:{label:!0}},[t._v("是")]),a("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),a("div",{staticClass:"setting_item"},[a("span",{staticClass:"setting_label"},[t._v(" 实时预警轮播: ")]),a("div",{staticClass:"setting_content"},[a("el-radio-group",{on:{change:function(e){return t.radiochange(e,"ssyjSwiper")}},model:{value:t.ssyjradio,callback:function(e){t.ssyjradio=e},expression:"ssyjradio"}},[a("el-radio",{attrs:{label:!0}},[t._v("是")]),a("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),a("div",{staticClass:"flex justify-center"})])])])])}),[],!1,null,"2be108e4",null).exports},data:()=>({timing:null,loading:!0,dateDay:null,dateYear:null,dateWeek:null,weekday:["周日","周一","周二","周三","周四","周五","周六"]}),filters:{numsFilter:t=>t||0},computed:{},created(){},mounted(){this.timeFn(),this.cancelLoading()},beforeDestroy(){clearInterval(this.timing)},methods:{showSetting(){this.$refs.setting.init()},timeFn(){this.timing=setInterval(()=>{this.dateDay=n(new Date,"HH: mm: ss"),this.dateYear=n(new Date,"yyyy-MM-dd"),this.dateWeek=this.weekday[(new Date).getDay()]},1e3)},cancelLoading(){setTimeout(()=>{this.loading=!1},500)}}},d=(a("a318"),Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"appRef",staticClass:"index_home",class:{pageisScale:t.isScale},attrs:{id:"index"}},[a("div",{staticClass:"bg"},[t.loading?a("dv-loading",[t._v("Loading...")]):a("div",{staticClass:"host-body"},[a("div",{staticClass:"d-flex jc-center title_wrap"},[a("div",{staticClass:"zuojuxing"}),a("div",{staticClass:"youjuxing"}),a("div",{staticClass:"guang"}),a("div",{staticClass:"d-flex jc-center"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("互联网设备可视化平台")])])]),a("div",{staticClass:"timers "},[t._v(" "+t._s(t.dateYear)+" "+t._s(t.dateWeek)+" "+t._s(t.dateDay)+" "),a("i",{staticClass:" blq-icon-shezhi02",staticStyle:{"margin-left":"10px"},on:{click:t.showSetting}})])]),a("router-view")],1)],1),a("Setting",{ref:"setting"})],1)}),[],!1,null,null,null));e.default=d.exports},"65b3":function(t,e,a){},"76dc":function(t,e,a){},"919e":function(t,e,a){"use strict";a("1a9f")},"95f4":function(t,e,a){"use strict";a("b027")},a318:function(t,e,a){"use strict";a("2eba")},b027:function(t,e,a){},ba89:function(t,e,a){},cf53:function(t,e,a){},da88:function(t,e,a){},df5e:function(t,e,a){"use strict";a.r(e);var s=a("bc3a"),i=a.n(s);var o={ENC:!1,baseUrl:"http://locolhost:8888",code:401};a("a18c");let n=o.baseUrl;i.a.CancelToken;i.a.interceptors.request.use((function(t){let e=localStorage.getItem("token");return t.headers.common["Content-Type"]="application/json;charset=utf-8",t.headers.common.token=e,t}),(function(t){return console.log(t),Promise.reject(t)})),i.a.interceptors.response.use(t=>200!==t.status?Promise.reject(t):(t.data.code,t.data),t=>Promise.reject({success:!1,msg:"未知异常，请联系管理员！"}));let l={headers:{enc:o.ENC}};const r=async(t,e)=>{try{e=e;return await i.a.get(`${n}${t}`,{params:e,headers:l.headers},l)}catch(t){return t}};const c={big1:"/bigscreen/countUserNum",big2:"/bigscreen/countDeviceNum",big3:"/bigscreen/sbtx",big4:"/bigscreen/alarmNum",big5:"/bigscreen/ssyj",big6:"/bigscreen/installationPlan",big7:"/bigscreen/ranking",big8:"/bigscreen/centermap"},d=(t,e)=>r(c[t],e);let h={fontSize:24};var m={data:()=>({options:{},userOverview:{alarmNum:0,offlineNum:0,onlineNum:0,totalNum:0},pageflag:!0,timer:null,config:{number:[100],content:"{nt}",style:{...h,fill:"#00fdfa"}},onlineconfig:{number:[0],content:"{nt}",style:{...h,fill:"#07f7a8"}},offlineconfig:{number:[0],content:"{nt}",style:{...h,fill:"#e3b337"}},laramnumconfig:{number:[0],content:"{nt}",style:{...h,fill:"#f5023d"}}}),filters:{numsFilter:t=>t||0},created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,d("big2").then(t=>{this.timer||console.log("设备总览",t),t.success?(this.userOverview=t.data,this.onlineconfig={...this.onlineconfig,number:[t.data.onlineNum]},this.config={...this.config,number:[t.data.totalNum]},this.offlineconfig={...this.offlineconfig,number:[t.data.offlineNum]},this.laramnumconfig={...this.laramnumconfig,number:[t.data.alarmNum]},this.switper()):(this.pageflag=!1,this.$Message.warning(t.msg))})},switper(){if(this.timer)return;this.timer=setInterval(t=>{this.getData()},this.$store.state.setting.echartsAutoTime)}}},g=(a("95f4"),a("2877")),u=Object(g.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageflag?a("ul",{staticClass:"user_Overview flex"},[a("li",{staticClass:"user_Overview-item",staticStyle:{color:"#00fdfa"}},[a("div",{staticClass:"user_Overview_nums allnum "},[a("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1),a("p",[t._v("总设备数")])]),a("li",{staticClass:"user_Overview-item",staticStyle:{color:"#07f7a8"}},[a("div",{staticClass:"user_Overview_nums online"},[a("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.onlineconfig}})],1),a("p",[t._v("在线数")])]),a("li",{staticClass:"user_Overview-item",staticStyle:{color:"#e3b337"}},[a("div",{staticClass:"user_Overview_nums offline"},[a("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.offlineconfig}})],1),a("p",[t._v("掉线数")])]),a("li",{staticClass:"user_Overview-item",staticStyle:{color:"#f5023d"}},[a("div",{staticClass:"user_Overview_nums laramnum"},[a("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.laramnumconfig}})],1),a("p",[t._v("告警次数")])])]):a("Reacquire",{attrs:{"line-height":"200px"},on:{onclick:t.getData}},[t._v(" 重新获取 ")])}),[],!1,null,"44052ebc",null).exports,p={data:()=>({options:{},countUserNumData:{lockNum:0,onlineNum:0,offlineNum:0,totalNum:0},pageflag:!0,timer:null}),created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,d("big1").then(t=>{this.timer||console.log("设备总览",t),t.success?(this.countUserNumData=t.data,this.$nextTick(()=>{this.init(),this.switper()})):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},switper(){if(this.timer)return;let t=t=>{this.getData()};this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime);let e=this.$refs.charts.chart;e.on("mouseover",t=>{this.clearData()}),e.on("mouseout",e=>{this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime)})},init(){let t=this.countUserNumData.totalNum,e=["#ECA444","#33A1DB","#56B557"],a={name:"用户总览",type:"pie",radius:["42%","65%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"rgba(0,0,0,0)",borderWidth:2},color:e,data:[{value:this.countUserNumData.lockNum,name:"锁定",label:{shadowColor:e[0]}},{value:this.countUserNumData.onlineNum,name:"在线",label:{shadowColor:e[2]}},{value:this.countUserNumData.offlineNum,name:"离线",label:{shadowColor:e[1]}}]};this.options={title:{text:["{value|"+t+"}","{name|总数}"].join("\n"),top:"center",left:"center",textStyle:{rich:{value:{color:"#ffffff",fontSize:24,fontWeight:"bold",lineHeight:20},name:{color:"#ffffff",lineHeight:20}}}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},legend:{show:!1,top:"5%",left:"center"},series:[{...a,tooltip:{show:!0},label:{formatter:"   {b|{b}}   \n   {c|{c}个}   {per|{d}%}  ",rich:{b:{color:"#fff",fontSize:12,lineHeight:26},c:{color:"#31ABE3",fontSize:14},per:{color:"#31ABE3",fontSize:14}}},labelLine:{length:20,length2:36,show:!0,emphasis:{show:!0}}},{...a,tooltip:{show:!0},itemStyle:{},label:{backgroundColor:"auto",height:0,width:0,lineHeight:0,borderRadius:2.5,shadowBlur:8,shadowColor:"auto",padding:[2.5,-2.5,2.5,-2.5]},labelLine:{length:20,length2:36,show:!1}}]}}}},f=Object(g.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return this.pageflag?e("Echart",{ref:"charts",staticClass:"left_center_inner",attrs:{id:"leftCenter",options:this.options}}):e("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:this.getData}},[this._v(" 重新获取 ")])}),[],!1,null,"7dc3f666",null).exports,v=a("a939"),b=a.n(v),C={components:{},data:()=>({}),props:{data:{type:Array,default:()=>[]}},computed:{},methods:{init(){}},created(){},mounted(){},beforeDestroy(){}},y=(a("1735"),Object(g.a)(C,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"kong"},[this._t("default")],2)}),[],!1,null,"d55b0914",null).exports),_={components:{vueSeamlessScroll:b.a,Kong:y},data(){return{list:[],pageflag:!0,components:b.a,defaultOption:{...this.$store.state.setting.defaultOption,singleHeight:240,limitMoveNum:5,step:0}}},computed:{sbtxSwiperFlag(){let t=this.$store.state.setting.sbtxSwiper;return this.components=t?b.a:y,t}},created(){this.getData()},mounted(){},methods:{addressHandle(t){let e=t.provinceName;return t.cityName&&(e+="/"+t.cityName,t.countyName&&(e+="/"+t.countyName)),e},getData(){this.pageflag=!0,d("big3",{limitNum:20}).then(t=>{if(console.log("设备提醒",t),t.success){this.countUserNumData=t.data,this.list=t.data.list;let e=setTimeout(()=>{clearTimeout(e),this.defaultOption.step=this.$store.state.setting.defaultOption.step},this.$store.state.setting.defaultOption.waitTime)}else this.pageflag=!1,this.$Message({text:t.msg,type:"warning"})})}}},w=(a("e6bf"),Object(g.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageflag?a("div",{staticClass:"left_boottom_wrap beautify-scroll-def",class:{"overflow-y-auto":!t.sbtxSwiperFlag}},[a(t.components,{tag:"component",attrs:{data:t.list,"class-option":t.defaultOption}},[a("ul",{staticClass:"left_boottom"},t._l(t.list,(function(e,s){return a("li",{key:s,staticClass:"left_boottom_item"},[a("span",{staticClass:"orderNum doudong"},[t._v(t._s(s+1))]),a("div",{staticClass:"inner_right"},[a("div",{staticClass:"dibu"}),a("div",{staticClass:"flex"},[a("div",{staticClass:"info"},[a("span",{staticClass:"labels"},[t._v("设备ID：")]),a("span",{staticClass:"contents zhuyao doudong wangguan"},[t._v(" "+t._s(e.gatewayno))])]),a("div",{staticClass:"info"},[a("span",{staticClass:"labels"},[t._v("时间：")]),a("span",{staticClass:"contents ",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(e.createTime))])])]),a("span",{staticClass:"types doudong",class:{typeRed:0==e.onlineState,typeGreen:1==e.onlineState}},[t._v(t._s(1==e.onlineState?"上线":"下线"))]),a("div",{staticClass:"info addresswrap"},[a("span",{staticClass:"labels"},[t._v("地址：")]),a("span",{staticClass:"contents ciyao",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.addressHandle(e)))])])])])})),0)])],1):a("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:t.getData}})}),[],!1,null,"17d6a415",null).exports),x={"中国":{adcode:"100000",level:"country",name:"中华人民共和国"},"新疆维吾尔自治区":{adcode:"650000",level:"province",name:"新疆维吾尔自治区"},"湖北省":{adcode:"420000",level:"province",name:"湖北省"},"辽宁省":{adcode:"210000",level:"province",name:"辽宁省"},"广东省":{adcode:"440000",level:"province",name:"广东省"},"内蒙古自治区":{adcode:"150000",level:"province",name:"内蒙古自治区"},"黑龙江省":{adcode:"230000",level:"province",name:"黑龙江省"},"河南省":{adcode:"410000",level:"province",name:"河南省"},"山东省":{adcode:"370000",level:"province",name:"山东省"},"陕西省":{adcode:"610000",level:"province",name:"陕西省"},"贵州省":{adcode:"520000",level:"province",name:"贵州省"},"上海市":{adcode:"310000",level:"province",name:"上海市"},"重庆市":{adcode:"500000",level:"province",name:"重庆市"},"西藏自治区":{adcode:"540000",level:"province",name:"西藏自治区"},"安徽省":{adcode:"340000",level:"province",name:"安徽省"},"福建省":{adcode:"350000",level:"province",name:"福建省"},"湖南省":{adcode:"430000",level:"province",name:"湖南省"},"海南省":{adcode:"460000",level:"province",name:"海南省"},"江苏省":{adcode:"320000",level:"province",name:"江苏省"},"青海省":{adcode:"630000",level:"province",name:"青海省"},"广西壮族自治区":{adcode:"450000",level:"province",name:"广西壮族自治区"},"宁夏回族自治区":{adcode:"640000",level:"province",name:"宁夏回族自治区"},"浙江省":{adcode:"330000",level:"province",name:"浙江省"},"河北省":{adcode:"130000",level:"province",name:"河北省"},"香港特别行政区":{adcode:"810000",level:"province",name:"香港特别行政区"},"台湾省":{adcode:"710000",level:"province",name:"台湾省"},"澳门特别行政区":{adcode:"820000",level:"province",name:"澳门特别行政区"},"甘肃省":{adcode:"620000",level:"province",name:"甘肃省"},"四川省":{adcode:"510000",level:"province",name:"四川省"},"天津市":{adcode:"120000",level:"province",name:"天津市"},"江西省":{adcode:"360000",level:"province",name:"江西省"},"云南省":{adcode:"530000",level:"province",name:"云南省"},"山西省":{adcode:"140000",level:"province",name:"山西省"},"北京市":{adcode:"110000",level:"province",name:"北京市"},"吉林省":{adcode:"220000",level:"province",name:"吉林省"}},S={data:()=>({maptitle:"设备分布图",options:{},code:"china",userCode:-1,echartBindClick:!1}),created(){},mounted(){this.getData()},methods:{getData(t){d("big8",{regionCode:t}).then(e=>{console.log("设备分布",e),e.success?(t||(this.userCode=e.data.regionCode),this.getGeojson(e.data.regionCode,e.data.dataList),this.mapclick()):this.$Message.warning(e.msg)})},getGeojson(t,e){-1==t&&(t="china"),this.code=t,(async(t,e)=>{try{return await i.a.get(t,{params:e})}catch(t){return t}})("./map-geojson/"+t+".json").then(a=>{let s={};a.features.map(t=>{s[t.properties.name]=t.properties.centroid||t.properties.center});let i=[];e.map(t=>{if(s[t.name]){this.getColor(t.value);i.push({name:t.name,value:s[t.name].concat(t.value)})}}),echarts.getMap(t)||echarts.registerMap(t,a),this.init(t,e,i)})},getColor:t=>t>0&&t<9?"#035cf5":t>10&&t<49?"#3375e4":t>50&&t<199?"#6797ef":t>200&&t<499?"#96b5ef":t>500&&t<9999?"#bacae8":t>1e3?"#3FF4FF":"",init(t,e,a){let s=45,i=1.05;"china"==t&&(s=140,i=1.42);let o={backgroundColor:"rgba(0,0,0,0)",tooltip:{show:!1},legend:{show:!1},visualMap:{left:20,bottom:20,pieces:[{gte:1e3,label:"1000个以上"},{gte:600,lte:999,label:"600-999个"},{gte:200,lte:599,label:"200-599个"},{gte:50,lte:199,label:"49-199个"},{gte:10,lte:49,label:"10-49个"},{lte:9,label:"1-9个"}],inRange:{color:["#c3d7df","#5cb3cc","#8abcd1","#66a9c9","#2f90b9","#1781b5"]},textStyle:{color:"#fff"}},geo:{map:t,roam:!1,selectedMode:!1,zoom:i,top:s,aspectScale:.78,tooltip:{show:!1},label:{show:!1},itemStyle:{areaColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)"},emphasis:{disabled:!0}},series:[{name:"MAP",type:"map",mapType:t,aspectScale:.78,data:e,selectedMode:!1,zoom:i,geoIndex:1,top:s,tooltip:{show:!0,formatter:function(t){return t.data?t.name+"："+t.data.value:t.name},backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},label:{show:!1,color:"#000",formatter:function(t){return void 0!==t.data?t.name.slice(0,2):""},rich:{},emphasis:{show:!1}},itemStyle:{borderColor:"rgba(147, 235, 248, .8)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, .3)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,emphasis:{areaColor:"#389BB7",borderWidth:1}}},{data:a,type:"effectScatter",coordinateSystem:"geo",symbolSize:function(t){return 4},legendHoverLink:!0,showEffectOn:"render",rippleEffect:{scale:6,color:"rgba(255,255,255, 1)",brushType:"fill"},tooltip:{show:!0,formatter:function(t){return t.data?t.name+"："+t.data.value[2]:t.name},backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},label:{formatter:t=>t.name.slice(0,2),fontSize:11,offset:[0,2],position:"bottom",textBorderColor:"#fff",textShadowColor:"#000",textShadowBlur:10,textBorderWidth:0,color:"#FFF",show:!0},itemStyle:{color:"rgba(255,255,255,1)",borderColor:"rgba(2255,255,255,2)",borderWidth:4,shadowColor:"#000",shadowBlur:10}}]};this.options=o},message(t){this.$Message({text:t,type:"warning"})},mapclick(){this.echartBindClick||-1!==this.userCode||(this.$refs.CenterMap.chart.on("click",t=>{let e=x[t.name];e?this.getData(e.adcode):this.message("暂无下级地市!")}),this.echartBindClick=!0)}}},D=(a("4328"),Object(g.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"centermap"},[a("div",{staticClass:"maptitle"},[a("div",{staticClass:"zuo"}),a("span",{staticClass:"titletext"},[t._v(t._s(t.maptitle))]),a("div",{staticClass:"you"})]),a("div",{staticClass:"mapwrap"},[a("dv-border-box-13",["china"!==t.code&&-1==t.userCode?a("div",{staticClass:"quanguo",on:{click:function(e){return t.getData(-1)}}},[t._v(" 中国 ")]):t._e(),a("Echart",{ref:"CenterMap",attrs:{id:"CenterMap",options:t.options}})],1)],1)])}),[],!1,null,"fe1ee016",null).exports),$={data:()=>({options:{}}),props:{},mounted(){this.getData()},methods:{getData(){this.pageflag=!0,d("big6",{companyName:this.companyName}).then(t=>{console.log("安装计划",t),t.success?this.init(t.data):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},init(t){this.options={tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"},formatter:function(t){var e=t[0].name+"<br>";return t.forEach((function(t){t.value?"安装率"==t.seriesName?e+=t.marker+" "+t.seriesName+" : "+t.value+"%</br>":e+=t.marker+" "+t.seriesName+" : "+t.value+"个</br>":e+=t.marker+" "+t.seriesName+" :  - </br>"})),e}},legend:{data:["已安装","计划安装","安装率"],textStyle:{color:"#B4B4B4"},top:"0"},grid:{left:"50px",right:"40px",bottom:"30px",top:"20px"},xAxis:{data:t.category,axisLine:{lineStyle:{color:"#B4B4B4"}},axisTick:{show:!1}},yAxis:[{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value}"}},{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value}% "}}],series:[{name:"已安装",type:"bar",barWidth:10,itemStyle:{normal:{barBorderRadius:5,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#956FD4"},{offset:1,color:"#3EACE5"}])}},data:t.barData},{name:"计划安装",type:"bar",barGap:"-100%",barWidth:10,itemStyle:{normal:{barBorderRadius:5,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(156,107,211,0.8)"},{offset:.2,color:"rgba(156,107,211,0.5)"},{offset:1,color:"rgba(156,107,211,0.2)"}])}},z:-12,data:t.lineData},{name:"安装率",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:8,yAxisIndex:1,itemStyle:{normal:{color:"#F02FC2"}},data:t.rateData}]}}}},F=(a("08f7"),Object(g.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center_bottom"},[e("Echart",{staticClass:"echarts_bottom",attrs:{options:this.options,id:"bottomLeftChart"}})],1)}),[],!1,null,"1f3ae3ae",null).exports),N={data:()=>({option:{},pageflag:!1,timer:null}),created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,d("big4").then(t=>{this.timer||console.log("报警次数",t),t.success?(this.countUserNumData=t.data,this.$nextTick(()=>{this.init(t.data.dateList,t.data.numList,t.data.numList2),this.switper()})):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},switper(){if(this.timer)return;let t=t=>{this.getData()};this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime);let e=this.$refs.charts.chart;e.on("mouseover",t=>{this.clearData()}),e.on("mouseout",e=>{this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime)})},init(t,e,a){this.option={xAxis:{type:"category",data:t,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"rgba(31,99,163,.2)"}},axisLine:{lineStyle:{color:"rgba(31,99,163,.1)"}},axisLabel:{color:"#7EB7FD",fontWeight:"500"}},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:"rgba(31,99,163,.2)"}},axisLine:{lineStyle:{color:"rgba(31,99,163,.1)"}},axisLabel:{color:"#7EB7FD",fontWeight:"500"}},tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},grid:{show:!0,left:"10px",right:"30px",bottom:"10px",top:"28px",containLabel:!0,borderColor:"#1F63A3"},series:[{data:e,type:"line",smooth:!0,symbol:"none",name:"报警1次数",color:"rgba(252,144,16,.7)",areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(252,144,16,.7)"},{offset:1,color:"rgba(252,144,16,.0)"}],!1)}},markPoint:{data:[{name:"最大值",type:"max",valueDim:"y",symbol:"rect",symbolSize:[60,26],symbolOffset:[0,-20],itemStyle:{color:"rgba(0,0,0,0)"},label:{color:"#FC9010",backgroundColor:"rgba(252,144,16,0.1)",borderRadius:6,padding:[7,14],borderWidth:.5,borderColor:"rgba(252,144,16,.5)",formatter:"报警1：{c}"}},{name:"最大值",type:"max",valueDim:"y",symbol:"circle",symbolSize:6,itemStyle:{color:"#FC9010",shadowColor:"#FC9010",shadowBlur:8},label:{formatter:""}}]}},{data:a,type:"line",smooth:!0,symbol:"none",name:"报警2次数",color:"rgba(9,202,243,.7)",areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(9,202,243,.7)"},{offset:1,color:"rgba(9,202,243,.0)"}],!1)}},markPoint:{data:[{name:"最大值",type:"max",valueDim:"y",symbol:"rect",symbolSize:[60,26],symbolOffset:[0,-20],itemStyle:{color:"rgba(0,0,0,0)"},label:{color:"#09CAF3",backgroundColor:"rgba(9,202,243,0.1)",borderRadius:6,borderColor:"rgba(9,202,243,.5)",padding:[7,14],formatter:"报警2：{c}",borderWidth:.5}},{name:"最大值",type:"max",valueDim:"y",symbol:"circle",symbolSize:6,itemStyle:{color:"#09CAF3",shadowColor:"#09CAF3",shadowBlur:8},label:{formatter:""}}]}}]}}}},k=(a("6208"),Object(g.a)(N,(function(){var t=this.$createElement,e=this._self._c||t;return this.pageflag?e("Echart",{ref:"charts",staticClass:"right_top_inner",attrs:{id:"rightTop",options:this.option}}):e("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:this.getData}},[this._v(" 重新获取 ")])}),[],!1,null,"c3396118",null).exports),O={data:()=>({gatewayno:"",config:{showValue:!0,unit:"次",data:[]}}),created(){this.getData()},computed:{},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},switper(){if(this.timer)return;this.timer=setInterval(t=>{this.getData()},this.$store.state.setting.echartsAutoTime)},getData(){this.pageflag=!0,d("big7",{gatewayno:this.gatewayno}).then(t=>{this.timer||console.log("报警排名",t),t.success?(this.config={...this.config,data:t.data},this.switper()):(this.pageflag=!1,this.srcList=[],this.$Message({text:t.msg,type:"warning"}))})}}},L=(a("919e"),Object(g.a)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_bottom"},[e("dv-capsule-chart",{staticStyle:{width:"100%",height:"260px"},attrs:{config:this.config}})],1)}),[],!1,null,"74eaea92",null).exports),B={components:{vueSeamlessScroll:b.a,Kong:y},data(){return{list:[],pageflag:!0,defaultOption:{...this.$store.state.setting.defaultOption,limitMoveNum:3,singleHeight:250,step:0}}},computed:{sbtxSwiperFlag(){let t=this.$store.state.setting.ssyjSwiper;return this.components=t?b.a:y,t}},created(){this.getData()},mounted(){},methods:{getData(){this.pageflag=!0,d("big5",{limitNum:50}).then(t=>{if(console.log("实时预警",t),t.success){this.list=t.data.list;let e=setTimeout(()=>{clearTimeout(e),this.defaultOption.step=this.$store.state.setting.defaultOption.step},this.$store.state.setting.defaultOption.waitTime)}else this.pageflag=!1,this.$Message.warning(t.msg)})}}},j=(a("242a"),{components:{LeftTop:u,LeftCenter:f,LeftBottom:w,CenterMap:D,RightTop:k,RightCenter:L,RightBottom:Object(g.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageflag?a("div",{staticClass:"right_center_wrap beautify-scroll-def",class:{"overflow-y-auto":!t.sbtxSwiperFlag}},[a(t.components,{tag:"component",attrs:{data:t.list,"class-option":t.defaultOption}},[a("ul",{staticClass:"right_center "},t._l(t.list,(function(e,s){return a("li",{key:s,staticClass:"right_center_item"},[a("span",{staticClass:"orderNum"},[t._v(t._s(s+1))]),a("div",{staticClass:"inner_right"},[a("div",{staticClass:"dibu"}),a("div",{staticClass:"flex"},[a("div",{staticClass:"info"},[a("span",{staticClass:"labels "},[t._v("设备ID：")]),a("span",{staticClass:"contents zhuyao"},[t._v(" "+t._s(e.gatewayno))])]),a("div",{staticClass:"info"},[a("span",{staticClass:"labels"},[t._v("型号：")]),a("span",{staticClass:"contents "},[t._v(" "+t._s(e.terminalno))])]),a("div",{staticClass:"info"},[a("span",{staticClass:"labels"},[t._v("告警值：")]),a("span",{staticClass:"contents warning"},[t._v(" "+t._s(t._f("montionFilter")(e.alertvalue)))])])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"info"},[a("span",{staticClass:"labels"},[t._v(" 地址：")]),a("span",{staticClass:"contents ciyao",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(e.provinceName)+"/"+t._s(e.cityName)+"/"+t._s(e.countyName))])]),a("div",{staticClass:"info time"},[a("span",{staticClass:"labels"},[t._v("时间：")]),a("span",{staticClass:"contents",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(e.createtime))])])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"info"},[a("span",{staticClass:"labels"},[t._v("报警内容：")]),a("span",{staticClass:"contents ciyao",class:{warning:e.alertdetail}},[t._v(" "+t._s(e.alertdetail||"无"))])])])])])})),0)])],1):a("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:t.getData}})}),[],!1,null,"20acf7c8",null).exports,CenterBottom:F},data:()=>({}),filters:{numsFilter:t=>t||0},created(){},mounted(){},methods:{}}),E=(a("ec36"),Object(g.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contents"},[e("div",{staticClass:"contetn_left"},[e("div",{staticClass:"pagetab"}),e("ItemWrap",{staticClass:"contetn_left-top contetn_lr-item",attrs:{title:"设备总览"}},[e("LeftTop")],1),e("ItemWrap",{staticClass:"contetn_left-center contetn_lr-item",attrs:{title:"用户总览"}},[e("LeftCenter")],1),e("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",staticStyle:{padding:"0 10px 16px 10px"},attrs:{title:"设备提醒"}},[e("LeftBottom")],1)],1),e("div",{staticClass:"contetn_center"},[e("CenterMap",{staticClass:"contetn_center_top"}),e("ItemWrap",{staticClass:"contetn_center-bottom",attrs:{title:"安装计划"}},[e("CenterBottom")],1)],1),e("div",{staticClass:"contetn_right"},[e("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",attrs:{title:"报警次数"}},[e("RightTop")],1),e("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",staticStyle:{padding:"0 10px 16px 10px"},attrs:{title:"报警排名(TOP8)"}},[e("RightCenter")],1),e("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",attrs:{title:"数据统计图 "}},[e("RightBottom")],1)],1)])}),[],!1,null,"2b0723e4",null));e.default=E.exports},e265:function(t,e,a){},e6bf:function(t,e,a){"use strict";a("cf53")},ec36:function(t,e,a){"use strict";a("76dc")}}]);